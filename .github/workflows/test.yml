name: test

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    defaults:
        run:
            working-directory: junit5-jupiter-starter-maven

    permissions:
        contents: read
        packages: write
  
    steps:
        - name: Checkout repository
          uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683
  
        - name: Set up java
          uses: actions/setup-java@3a4f6e1af504cf6a31855fa899c6aa5355ba6c12
          with:
            distribution: temurin
            java-version-file: ./junit5-jupiter-starter-maven/java-version
  
        - name: Build project
          run: mvn --batch-mode test
          env:
            GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}